import{r as o,a as Be,b as de}from"./vendor-C1JoJ-56.js";import{u as X,a as Re,B as Ge,R as qe,b as H,N as je}from"./router-D-PNJrVz.js";import{c as We}from"./supabase-CVFdVoPA.js";import{E as ze,a as ye,M as Ue,X as Ne,H as Ye,F as Q,C as G,B as ie,T as me,U as ve,b as ge,L as pe,R as q,c as we,I as ke,d as _e,e as le,f as J,Y as Ce,g as V,h as ne,i as He,S as F,j as Se,k as Pe,l as Te,m as Je,n as Ve,G as Xe,o as Ze,p as Ke,q as Ee,P as Qe,r as et,s as tt,A as Ae,t as st,u as rt,v as fe,w as at}from"./ui-CJFcY6d5.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const g of i)if(g.type==="childList")for(const f of g.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&n(f)}).observe(document,{childList:!0,subtree:!0});function t(i){const g={};return i.integrity&&(g.integrity=i.integrity),i.referrerPolicy&&(g.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?g.credentials="include":i.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function n(i){if(i.ep)return;i.ep=!0;const g=t(i);fetch(i.href,g)}})();var Ie={exports:{}},se={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nt=o,ot=Symbol.for("react.element"),it=Symbol.for("react.fragment"),lt=Object.prototype.hasOwnProperty,ct=nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dt={key:!0,ref:!0,__self:!0,__source:!0};function De(a,s,t){var n,i={},g=null,f=null;t!==void 0&&(g=""+t),s.key!==void 0&&(g=""+s.key),s.ref!==void 0&&(f=s.ref);for(n in s)lt.call(s,n)&&!dt.hasOwnProperty(n)&&(i[n]=s[n]);if(a&&a.defaultProps)for(n in s=a.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:ot,type:a,key:g,ref:f,props:i,_owner:ct.current}}se.Fragment=it;se.jsx=De;se.jsxs=De;Ie.exports=se;var e=Ie.exports,ce={},be=Be;ce.createRoot=be.createRoot,ce.hydrateRoot=be.hydrateRoot;const mt="https://yibrsxythicjzshqhqxf.supabase.co",xt="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlpYnJzeHl0aGljanpzaHFocXhmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTcxODMxODcsImV4cCI6MjA3Mjc1OTE4N30.-WE1d7d9prCiYmdmgQsvuqHHLAFGUvxcBDWBEBUXrBE",P=We(mt,xt),$e=o.createContext();function z(){const a=o.useContext($e);if(!a)throw new Error("useAuth must be used within an AuthProvider");return a}function ut({children:a}){const[s,t]=o.useState(!1),[n,i]=o.useState(null),[g,f]=o.useState(!0);o.useEffect(()=>{P.auth.getSession().then(({data:{session:d}})=>{d&&(i(d.user),t(!0)),f(!1)});const{data:{subscription:v}}=P.auth.onAuthStateChange((d,x)=>{x?(i(x.user),t(!0)):(i(null),t(!1)),f(!1)});return()=>v.unsubscribe()},[]);const b={isAuthenticated:s,user:n,loading:g,login:async(v,d)=>{try{const{data:x,error:m}=await P.auth.signInWithPassword({email:v,password:d});return m?{success:!1,error:m.message}:{success:!0}}catch{return{success:!1,error:"Login failed"}}},register:async(v,d,x)=>{try{const{data:m,error:p}=await P.auth.signUp({email:v,password:d,options:{data:{name:x}}});return p?{success:!1,error:p.message}:m.user&&!m.session?{success:!0,message:"Registration successful! Please check your email to confirm your account."}:{success:!0}}catch{return{success:!1,error:"Registration failed"}}},logout:async()=>{try{await P.auth.signOut()}catch(v){console.error("Logout error:",v)}}};return e.jsx($e.Provider,{value:b,children:a})}function ht(){const[a,s]=o.useState(!0),[t,n]=o.useState({name:"",email:"",password:""}),[i,g]=o.useState(!1),[f,u]=o.useState(!1),[k,l]=o.useState(""),[b,v]=o.useState(""),{login:d,register:x}=z(),m=X(),p=T=>{n({...t,[T.target.name]:T.target.value}),l(""),v("")},y=async T=>{T.preventDefault(),u(!0),l(""),v("");try{let I;a?I=await d(t.email,t.password):I=await x(t.email,t.password,t.name),I.success?I.message?v(I.message):m("/dashboard"):l(I.error)}catch{l("An unexpected error occurred")}finally{u(!1)}},E=()=>{s(!a),n({name:"",email:"",password:""}),l(""),v("")};return e.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 bg-gray-50",children:e.jsxs("div",{className:"max-w-md w-full",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"mx-auto h-16 w-16 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full flex items-center justify-center shadow-lg mb-4",children:e.jsx("span",{className:"text-2xl font-bold text-white",children:"E"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Hi, I am Emily"}),e.jsx("p",{className:"text-gray-600",children:"Your digital marketing companion"})]}),e.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:e.jsxs("form",{onSubmit:y,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email address"}),e.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:t.email,onChange:p,className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-colors bg-blue-50",placeholder:"Enter your email"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),e.jsx("button",{type:"button",className:"text-sm text-pink-600 hover:text-pink-700 transition-colors",children:"Forgot password?"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"password",name:"password",type:i?"text":"password",required:!0,value:t.password,onChange:p,className:"w-full px-4 py-3 pr-12 border border-gray-200 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-colors",placeholder:"Enter your password"}),e.jsx("button",{type:"button",onClick:()=>g(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:i?e.jsx(ze,{className:"h-5 w-5"}):e.jsx(ye,{className:"h-5 w-5"})})]})]}),k&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg text-sm",children:k}),b&&e.jsx("div",{className:"bg-green-50 border border-green-200 text-green-600 px-4 py-3 rounded-lg text-sm",children:b}),e.jsx("button",{type:"submit",disabled:f,className:"w-full bg-gradient-to-r from-pink-500 to-pink-600 text-white py-3 px-4 rounded-lg font-semibold hover:from-pink-600 hover:to-pink-700 focus:ring-2 focus:ring-pink-500 focus:ring-offset-2 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:f?"Connecting...":"Connect with Emily"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-200"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white text-gray-500",children:"or"})})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"text-gray-500",children:"New to Emily? "}),e.jsx("button",{type:"button",onClick:E,className:"text-pink-600 hover:text-pink-700 font-medium transition-colors",children:"Create account"})]})]})}),e.jsx("div",{className:"text-center mt-8",children:e.jsx("p",{className:"text-xs text-gray-400",children:"Secure connection â€¢ Powered by AI"})})]})})}const Me=o.createContext(),xe=()=>{const a=o.useContext(Me);if(!a)throw new Error("useNotifications must be used within a NotificationProvider");return a},gt=({children:a})=>{const[s,t]=o.useState([]),n=o.useCallback(m=>{const p=Date.now()+Math.random(),y={id:p,type:"info",title:"Notification",message:"",details:null,actions:null,read:!1,animate:!0,timestamp:new Date,...m};return t(E=>[y,...E]),m.persistent||setTimeout(()=>{i(p)},1e4),p},[]),i=o.useCallback(m=>{t(p=>p.filter(y=>y.id!==m))},[]),g=o.useCallback(m=>{t(p=>p.map(y=>y.id===m?{...y,read:!0}:y))},[]),f=o.useCallback(()=>{t([])},[]),u=o.useCallback(()=>{t(m=>m.filter(p=>!p.read))},[]),k=o.useCallback((m,p,y={})=>n({type:"success",title:m,message:p,...y}),[n]),l=o.useCallback((m,p,y={})=>n({type:"error",title:m,message:p,persistent:!0,...y}),[n]),b=o.useCallback((m,p,y={})=>n({type:"info",title:m,message:p,...y}),[n]),v=o.useCallback((m,p,y={})=>n({type:"content_generation",title:m,message:p,persistent:!0,...y}),[n]),d=o.useCallback((m,p,y={})=>n({type:"loading",title:m,message:p,persistent:!0,...y}),[n]),x={notifications:s,addNotification:n,removeNotification:i,markAsRead:g,clearAllNotifications:f,clearReadNotifications:u,showSuccess:k,showError:l,showInfo:b,showContentGeneration:v,showLoading:d};return e.jsx(Me.Provider,{value:x,children:a})},ue={getProfile:async()=>{const{data:{user:a}}=await P.auth.getUser();if(!a)throw new Error("User not authenticated");const{data:s,error:t}=await P.from("profiles").select("*").eq("id",a.id).maybeSingle();if(t)throw t;return{data:s}},submitOnboarding:async a=>{var i;const{data:{user:s}}=await P.auth.getUser();if(!s)throw new Error("User not authenticated");const{data:t,error:n}=await P.from("profiles").upsert({id:s.id,name:((i=s.user_metadata)==null?void 0:i.name)||s.email,...a,onboarding_completed:!0}).select().single();if(n)throw n;return{data:{message:"Onboarding completed successfully",profile:t}}},getOnboardingStatus:async()=>{const{data:{user:a}}=await P.auth.getUser();if(!a)throw new Error("User not authenticated");const{data:s,error:t}=await P.from("profiles").select("onboarding_completed").eq("id",a.id).maybeSingle();if(t)throw t;return{data:{onboarding_completed:(s==null?void 0:s.onboarding_completed)||!1}}}},he=()=>{var l;const{user:a,logout:s}=z(),t=X(),n=Re(),[i,g]=o.useState(!1),f=[{name:"Dashboard",href:"/dashboard",icon:Ye,description:"Overview and quick actions"},{name:"Content",href:"/content",icon:Q,description:"Manage your content"},{name:"Calendar",href:"/calendar",icon:G,description:"Content calendar view"},{name:"Analytics",href:"/analytics",icon:ie,description:"Performance insights"},{name:"Campaigns",href:"/campaigns",icon:me,description:"Marketing campaigns"},{name:"Audience",href:"/audience",icon:ve,description:"Audience insights"}],u=()=>{s(),t("/login")},k=b=>n.pathname===b;return e.jsxs("div",{className:`bg-white shadow-lg transition-all duration-300 ${i?"w-16":"w-64"} min-h-screen flex flex-col`,children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[!i&&e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-white font-bold text-lg",children:"E"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"Emily"}),e.jsx("p",{className:"text-xs text-gray-500",children:"AI Marketing"})]})]}),e.jsx("button",{onClick:()=>g(!i),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:i?e.jsx(Ue,{className:"w-5 h-5"}):e.jsx(Ne,{className:"w-5 h-5"})})]})}),e.jsx("nav",{className:"flex-1 p-4 space-y-2",children:f.map(b=>{const v=b.icon,d=k(b.href);return e.jsxs("button",{onClick:()=>t(b.href),className:`w-full flex items-center p-3 rounded-lg transition-all duration-200 group ${d?"bg-gradient-to-r from-pink-500 to-purple-600 text-white shadow-lg":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[e.jsx(v,{className:`w-5 h-5 ${i?"mx-auto":"mr-3"}`}),!i&&e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("div",{className:"font-medium",children:b.name}),e.jsx("div",{className:`text-xs ${d?"text-pink-100":"text-gray-500"}`,children:b.description})]})]},b.name)})}),e.jsx("div",{className:"p-4 border-t border-gray-200",children:i?e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-blue-600 rounded-full flex items-center justify-center mx-auto",children:e.jsx(ge,{className:"w-4 h-4 text-white"})}),e.jsx("button",{onClick:u,className:"w-full flex items-center justify-center p-3 text-gray-600 hover:bg-red-50 hover:text-red-600 rounded-lg transition-colors",children:e.jsx(pe,{className:"w-5 h-5"})})]}):e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-blue-600 rounded-full flex items-center justify-center mr-3",children:e.jsx(ge,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:((l=a==null?void 0:a.user_metadata)==null?void 0:l.name)||(a==null?void 0:a.email)}),e.jsx("p",{className:"text-xs text-gray-500",children:"Online"})]})]}),e.jsxs("button",{onClick:u,className:"w-full flex items-center p-3 text-gray-600 hover:bg-red-50 hover:text-red-600 rounded-lg transition-colors group",children:[e.jsx(pe,{className:"w-5 h-5 mr-3"}),e.jsx("span",{className:"font-medium",children:"Logout"})]})]})})]})},W="http://localhost:8000";class pt{async getConnections(){try{const s=await fetch(`${W}/connections`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${await this.getAuthToken()}`}});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return{data:(await s.json()).connections,error:null}}catch(s){return console.error("Error fetching connections:",s),{data:null,error:s.message}}}async initiateConnection(s){try{const t=await fetch(`${W}/connections/auth/${s}/connect`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${await this.getAuthToken()}`}});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return{data:(await t.json()).auth_url,error:null}}catch(t){return console.error("Error initiating connection:",t),{data:null,error:t.message}}}async handleCallback(s,t,n){try{const i=await fetch(`${W}/connections/auth/${s}/callback`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${await this.getAuthToken()}`},body:JSON.stringify({code:t,state:n})});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);return{data:(await i.json()).connection,error:null}}catch(i){return console.error("Error handling callback:",i),{data:null,error:i.message}}}async disconnectAccount(s){try{const t=await fetch(`${W}/connections/${s}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${await this.getAuthToken()}`}});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return{data:await t.json(),error:null}}catch(t){return console.error("Error disconnecting account:",t),{data:null,error:t.message}}}async refreshConnection(s){try{const t=await fetch(`${W}/connections/${s}/refresh`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${await this.getAuthToken()}`}});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return{data:await t.json(),error:null}}catch(t){return console.error("Error refreshing connection:",t),{data:null,error:t.message}}}async updateConnectionSettings(s,t){try{const n=await fetch(`${W}/connections/${s}/settings`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${await this.getAuthToken()}`},body:JSON.stringify(t)});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return{data:await n.json(),error:null}}catch(n){return console.error("Error updating settings:",n),{data:null,error:n.message}}}async getConnectionAnalytics(s){try{const t=await fetch(`${W}/connections/${s}/analytics`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${await this.getAuthToken()}`}});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return{data:(await t.json()).analytics,error:null}}catch(t){return console.error("Error fetching analytics:",t),{data:null,error:t.message}}}async getAuthToken(){const{data:{session:s}}=await P.auth.getSession();return s==null?void 0:s.access_token}}const oe=new pt,ft=()=>{const[a,s]=o.useState([]),[t,n]=o.useState(!0),[i,g]=o.useState(null),f=[{id:"facebook",name:"Facebook",icon:we,color:"from-blue-500 to-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200"},{id:"instagram",name:"Instagram",icon:ke,color:"from-pink-500 to-purple-600",bgColor:"bg-pink-50",borderColor:"border-pink-200"},{id:"linkedin",name:"LinkedIn",icon:_e,color:"from-blue-600 to-blue-700",bgColor:"bg-blue-50",borderColor:"border-blue-200"},{id:"twitter",name:"Twitter",icon:le,color:"from-sky-400 to-sky-500",bgColor:"bg-sky-50",borderColor:"border-sky-200"},{id:"tiktok",name:"TikTok",icon:J,color:"from-black to-gray-800",bgColor:"bg-gray-50",borderColor:"border-gray-200"},{id:"youtube",name:"YouTube",icon:Ce,color:"from-red-500 to-red-600",bgColor:"bg-red-50",borderColor:"border-red-200"}];o.useEffect(()=>{u()},[]);const u=async()=>{try{n(!0);const{data:d,error:x}=await oe.getConnections();x?(console.error("Failed to fetch connections:",x),s([])):s(d||[])}catch(d){console.error("Failed to fetch connections:",d),s([])}finally{n(!1)}},k=async d=>{try{g(d);const{data:x,error:m}=await oe.initiateConnection(d);if(m){console.error("Failed to initiate connection:",m),g(null);return}window.location.href=x}catch(x){console.error("Failed to connect:",x),g(null)}},l=async d=>{try{const{error:x}=await oe.disconnectAccount(d);if(x){console.error("Failed to disconnect:",x);return}s(m=>m.filter(p=>p.id!==d))}catch(x){console.error("Failed to disconnect:",x)}},b=d=>{const x=a.find(m=>m.platform===d);return x?x.connection_status:"disconnected"},v=d=>a.find(x=>x.platform===d);return t?e.jsx("div",{className:"flex justify-center items-center p-8",children:e.jsx(q,{className:"w-6 h-6 animate-spin text-pink-500"})}):e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Social Media Connections"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Connect your accounts to enable automated posting"})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[a.filter(d=>d.connection_status==="active").length," of ",f.length," connected"]})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:f.map(d=>{const x=d.icon,m=b(d.id),p=v(d.id),y=i===d.id,E=m==="active",T=m==="error";return e.jsxs("div",{className:`relative p-4 rounded-xl border-2 transition-all duration-200 cursor-pointer ${E?`${d.bgColor} ${d.borderColor} border-green-300`:T?"bg-red-50 border-red-200":"bg-gray-50 border-gray-200 hover:border-gray-300"}`,onClick:()=>{E?l(p.id):y||k(d.id)},children:[e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center mb-3 ${E?`bg-gradient-to-r ${d.color}`:T?"bg-red-500":"bg-gray-400"}`,children:e.jsx(x,{className:"w-6 h-6 text-white"})}),e.jsx("h4",{className:"font-medium text-gray-900 text-sm mb-1",children:d.name}),e.jsx("div",{className:"flex items-center space-x-1 mb-2",children:y?e.jsxs(e.Fragment,{children:[e.jsx(q,{className:"w-4 h-4 animate-spin text-blue-500"}),e.jsx("span",{className:"text-xs text-blue-600",children:"Connecting..."})]}):E?e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"text-xs text-green-600",children:"Connected"})]}):T?e.jsxs(e.Fragment,{children:[e.jsx(ne,{className:"w-4 h-4 text-red-500"}),e.jsx("span",{className:"text-xs text-red-600",children:"Error"})]}):e.jsxs(e.Fragment,{children:[e.jsx(ne,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-xs text-gray-500",children:"Not Connected"})]})}),p&&e.jsxs("div",{className:"text-xs text-gray-500",children:[e.jsx("p",{className:"truncate max-w-full",title:p.page_name,children:p.page_name}),e.jsxs("p",{children:[p.follower_count.toLocaleString()," followers"]})]}),e.jsx("div",{className:"mt-2",children:y?e.jsx("div",{className:"w-full h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(q,{className:"w-4 h-4 animate-spin text-blue-600"})}):E?e.jsxs("div",{className:"w-full h-8 bg-red-500 hover:bg-red-600 rounded-lg flex items-center justify-center transition-colors",children:[e.jsx(ne,{className:"w-4 h-4 text-white mr-1"}),e.jsx("span",{className:"text-white text-xs font-medium",children:"Disconnect"})]}):e.jsxs("div",{className:"w-full h-8 bg-green-500 hover:bg-green-600 rounded-lg flex items-center justify-center transition-colors",children:[e.jsx(V,{className:"w-4 h-4 text-white mr-1"}),e.jsx("span",{className:"text-white text-xs font-medium",children:"Connect"})]})})]}),e.jsx("div",{className:`absolute top-2 right-2 w-3 h-3 rounded-full ${E?"bg-green-500":T?"bg-red-500":"bg-gray-300"}`})]},d.id)})}),e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),e.jsxs("span",{className:"text-gray-600",children:[a.filter(d=>d.connection_status==="active").length," Active"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),e.jsxs("span",{className:"text-gray-600",children:[a.filter(d=>d.connection_status==="error").length," Error"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-gray-300 rounded-full"}),e.jsxs("span",{className:"text-gray-600",children:[f.length-a.length," Not Connected"]})]})]}),e.jsxs("button",{className:"text-pink-600 hover:text-pink-700 font-medium flex items-center space-x-1",children:[e.jsx("span",{children:"Manage All"}),e.jsx(He,{className:"w-4 h-4"})]})]})})]})};function bt(){var v,d,x,m;const{user:a,logout:s}=z(),{showContentGeneration:t,showSuccess:n,showError:i,showInfo:g}=xe(),f=X(),[u,k]=o.useState(null),[l,b]=o.useState(!0);return o.useEffect(()=>{a?(async()=>{try{const y=await ue.getProfile();k(y.data)}catch(y){console.error("Error fetching profile:",y),k(null)}finally{b(!1)}})():b(!1)},[a]),l?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-pink-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading your dashboard..."})]})}):a?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 via-purple-50 to-indigo-50 flex",children:[e.jsx(he,{}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsx("div",{className:"bg-white shadow-sm border-b",children:e.jsxs("div",{className:"px-6 py-4",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Welcome back! Here's what's happening with your marketing."})]})}),e.jsxs("div",{className:"flex-1 p-6",children:[e.jsx(ft,{}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 mb-8",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full flex items-center justify-center mr-4",children:e.jsx(F,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:["Welcome back, ",(u==null?void 0:u.business_name)||((v=a==null?void 0:a.user_metadata)==null?void 0:v.name)||"there","! ðŸ‘‹"]}),e.jsxs("p",{className:"text-gray-600",children:["Ready to take your ",((d=u==null?void 0:u.industry)==null?void 0:d.join(", "))||"business"," to the next level?"]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-pink-50 to-pink-100 p-6 rounded-xl",children:[e.jsx(Se,{className:"w-8 h-8 text-pink-600 mb-3"}),e.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:"Performance"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Track your marketing metrics"})]}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-purple-100 p-6 rounded-xl",children:[e.jsx(ve,{className:"w-8 h-8 text-purple-600 mb-3"}),e.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:"Audience"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Understand your customers"})]}),e.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-indigo-100 p-6 rounded-xl",children:[e.jsx(me,{className:"w-8 h-8 text-indigo-600 mb-3"}),e.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:"Campaigns"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Manage your marketing campaigns"})]}),e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-green-100 p-6 rounded-xl",children:[e.jsx(ie,{className:"w-8 h-8 text-green-600 mb-3"}),e.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:"Analytics"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Get insights and reports"})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:()=>f("/content"),className:"w-full text-left p-4 bg-gradient-to-r from-pink-50 to-purple-50 rounded-lg hover:from-pink-100 hover:to-purple-100 transition-colors",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Q,{className:"w-5 h-5 text-pink-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-800",children:"Content Dashboard"}),e.jsx("div",{className:"text-sm text-gray-600",children:"View and manage your AI-generated content"})]})]})}),e.jsx("button",{onClick:()=>f("/calendar"),className:"w-full text-left p-4 bg-gradient-to-r from-purple-50 to-indigo-50 rounded-lg hover:from-purple-100 hover:to-indigo-100 transition-colors",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(G,{className:"w-5 h-5 text-purple-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-800",children:"Content Calendar"}),e.jsx("div",{className:"text-sm text-gray-600",children:"View your content schedule by month"})]})]})}),e.jsx("button",{className:"w-full text-left p-4 bg-gradient-to-r from-indigo-50 to-blue-50 rounded-lg hover:from-indigo-100 hover:to-blue-100 transition-colors",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(G,{className:"w-5 h-5 text-purple-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-800",children:"Generate Content"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Get AI-powered content ideas"})]})]})}),e.jsx("button",{className:"w-full text-left p-4 bg-gradient-to-r from-indigo-50 to-green-50 rounded-lg hover:from-indigo-100 hover:to-green-100 transition-colors",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ie,{className:"w-5 h-5 text-indigo-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-800",children:"View Analytics"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Check your performance metrics"})]})]})})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Your Business Info"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Business Name:"}),e.jsx("span",{className:"font-medium text-gray-800",children:(u==null?void 0:u.business_name)||"Not set"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Industry:"}),e.jsx("span",{className:"font-medium text-gray-800",children:((x=u==null?void 0:u.industry)==null?void 0:x.join(", "))||"Not set"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Social Platforms:"}),e.jsx("span",{className:"font-medium text-gray-800",children:((m=u==null?void 0:u.social_media_platforms)==null?void 0:m.join(", "))||"Not set"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Monthly Budget:"}),e.jsx("span",{className:"font-medium text-gray-800",children:(u==null?void 0:u.monthly_budget_range)||"Not set"})]})]})]})]}),e.jsxs("div",{className:"mt-8 bg-gradient-to-r from-pink-500 to-purple-600 rounded-2xl p-8 text-white text-center",children:[e.jsx("h3",{className:"text-2xl font-bold mb-4",children:"ðŸš€ More Features Coming Soon!"}),e.jsx("p",{className:"text-lg mb-6",children:"We're working hard to bring you advanced AI-powered marketing tools, automated content generation, and comprehensive analytics."}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-4 text-sm",children:[e.jsx("span",{className:"bg-white/20 px-3 py-1 rounded-full",children:"AI Content Generator"}),e.jsx("span",{className:"bg-white/20 px-3 py-1 rounded-full",children:"Social Media Scheduler"}),e.jsx("span",{className:"bg-white/20 px-3 py-1 rounded-full",children:"Advanced Analytics"}),e.jsx("span",{className:"bg-white/20 px-3 py-1 rounded-full",children:"Email Marketing"})]})]})]})]})]}):e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Not Authenticated"}),e.jsx("p",{className:"text-gray-600",children:"Please log in to access the dashboard."})]})})}const K={async getCampaigns(){try{const{data:a,error:s}=await P.from("content_campaigns").select("*").order("created_at",{ascending:!1});if(s)throw s;return{data:a,error:null}}catch(a){return console.error("Error fetching campaigns:",a),{data:null,error:a}}},async getCampaignPosts(a){try{const{data:s,error:t}=await P.from("content_posts").select(`
          *,
          content_images(*)
        `).eq("campaign_id",a).order("scheduled_date",{ascending:!0});if(t)throw t;return{data:s,error:null}}catch(s){return console.error("Error fetching campaign posts:",s),{data:null,error:s}}},async getAllPosts(){try{const{data:a,error:s}=await P.from("content_posts").select(`
          *,
          content_campaigns!inner(user_id),
          content_images(*)
        `).order("scheduled_date",{ascending:!1});if(s)throw s;return{data:a,error:null}}catch(a){return console.error("Error fetching all posts:",a),{data:null,error:a}}},async getPosts(){return this.getAllPosts()},async getPostDetails(a){try{const{data:s,error:t}=await P.from("content_posts").select(`
          *,
          content_campaigns!inner(user_id),
          content_images(*)
        `).eq("id",a).single();if(t)throw t;return{data:s,error:null}}catch(s){return console.error("Error fetching post details:",s),{data:null,error:s}}},async updatePost(a,s){try{const{data:t,error:n}=await P.from("content_posts").update(s).eq("id",a).select().single();if(n)throw n;return{data:t,error:null}}catch(t){return console.error("Error updating post:",t),{data:null,error:t}}},async getTemplates(a=null){try{let s=P.from("content_templates").select("*").eq("is_active",!0);a&&(s=s.eq("platform",a));const{data:t,error:n}=await s.order("platform",{ascending:!0});if(n)throw n;return{data:t,error:null}}catch(s){return console.error("Error fetching templates:",s),{data:null,error:s}}},async getImagePreferences(){try{const{data:a,error:s}=await P.from("user_image_preferences").select("*").single();if(s&&s.code!=="PGRST116")throw s;return{data:a,error:null}}catch(a){return console.error("Error fetching image preferences:",a),{data:null,error:a}}},async updateImagePreferences(a){try{const{data:s,error:t}=await P.from("user_image_preferences").upsert(a).select().single();if(t)throw t;return{data:s,error:null}}catch(s){return console.error("Error updating image preferences:",s),{data:null,error:s}}},async generateContent(){var a;try{const{data:s}=await P.auth.getSession();if(!((a=s==null?void 0:s.session)!=null&&a.access_token))throw new Error("No authentication token found");const t=await fetch("http://localhost:8000/content/generate",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s.session.access_token}`}});if(!t.ok){const i=await t.json();throw new Error(i.detail||`HTTP error! status: ${t.status}`)}return{data:await t.json(),error:null}}catch(s){return console.error("Error generating content:",s),{data:null,error:s}}}},jt=({isVisible:a,onComplete:s})=>{const[t,n]=o.useState(null),[i,g]=o.useState(!1);if(o.useEffect(()=>{if(!a)return;let l=null;const b=async()=>{var v;try{const{data:d}=await P.auth.getSession();if(!((v=d==null?void 0:d.session)!=null&&v.access_token))return;l=new EventSource(`http://localhost:8000/content/progress-stream?token=${d.session.access_token}`),l.onmessage=x=>{try{const m=JSON.parse(x.data);if(m.type==="keepalive")return;n(m),g(m.is_generating),!m.is_generating&&s&&s()}catch(m){console.error("Error parsing SSE data:",m)}},l.onerror=x=>{console.error("SSE error:",x),setTimeout(b,3e3)}}catch(d){console.error("Error setting up SSE:",d)}};return b(),()=>{l&&l.close()}},[a,s]),!a||!i)return null;const f=l=>({initializing:e.jsx(Je,{className:"w-5 h-5 animate-spin"}),loading_profile:e.jsx(me,{className:"w-5 h-5"}),campaign_created:e.jsx(G,{className:"w-5 h-5"}),generating_content:e.jsx(Q,{className:"w-5 h-5"}),generating_images:e.jsx(Te,{className:"w-5 h-5"}),storing_content:e.jsx(V,{className:"w-5 h-5"}),completed:e.jsx(V,{className:"w-5 h-5"})})[l]||e.jsx(Pe,{className:"w-5 h-5"}),u=l=>({initializing:"Initializing",loading_profile:"Loading Profile",campaign_created:"Campaign Created",generating_content:"Generating Content",generating_images:"Creating Images",storing_content:"Storing Content",completed:"Completed"})[l]||l,k=l=>({initializing:"text-blue-600",loading_profile:"text-purple-600",campaign_created:"text-green-600",generating_content:"text-orange-600",generating_images:"text-pink-600",storing_content:"text-indigo-600",completed:"text-green-600"})[l]||"text-gray-600";return e.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 bg-white shadow-lg border-b",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(F,{className:"w-6 h-6 text-pink-600"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Generating Content"})]}),t&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`${k(t.step)}`,children:f(t.step)}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:u(t.step)})]})]}),e.jsx("div",{className:"flex items-center space-x-4",children:t&&e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[t.percentage,"%"]}),e.jsx("div",{className:"text-xs text-gray-500",children:t.current_platform&&`Platform: ${t.current_platform}`})]})})]}),e.jsx("div",{className:"mt-4",children:e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-pink-500 to-purple-600 h-2 rounded-full transition-all duration-500 ease-out",style:{width:`${(t==null?void 0:t.percentage)||0}%`}})})}),t&&t.details&&e.jsx("div",{className:"mt-3",children:e.jsx("p",{className:"text-sm text-gray-600",children:t.details})}),t&&t.total_platforms>0&&e.jsxs("div",{className:"mt-3 flex items-center space-x-2",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Platforms:"}),e.jsx("div",{className:"flex space-x-1",children:Array.from({length:t.total_platforms},(l,b)=>e.jsx("div",{className:`w-2 h-2 rounded-full ${b<(t.completed_platforms||0)?"bg-green-500":b===(t.completed_platforms||0)?"bg-pink-500 animate-pulse":"bg-gray-300"}`},b))}),e.jsxs("span",{className:"text-xs text-gray-500",children:[t.completed_platforms||0," / ",t.total_platforms]})]})]})})},yt=()=>{const{user:a}=z(),{showContentGeneration:s,showSuccess:t,showError:n,showLoading:i}=xe(),g=X(),[f,u]=o.useState([]),[k,l]=o.useState([]),[b,v]=o.useState(null),[d,x]=o.useState(!0),[m,p]=o.useState("grid"),[y,E]=o.useState("all"),[T,I]=o.useState(""),[U,Y]=o.useState(new Set),[L,_]=o.useState(!1),[D,M]=o.useState(null),[Z,c]=o.useState(""),[w,C]=o.useState(!1);o.useEffect(()=>{r()},[]);const r=async()=>{try{x(!0);const[h,S]=await Promise.all([K.getCampaigns(),K.getAllPosts()]);h.data&&u(h.data),S.data&&l(S.data)}catch(h){console.error("Error fetching data:",h)}finally{x(!1)}},j=async()=>{var h,S;try{_(!0),M(null),c(""),i("Content Generation Started","AI is creating your content. This may take a few minutes...",{details:"You can continue using the app while content is being generated.",persistent:!0});const A=await K.generateContent();if(A.data){M("success"),c("Content generation started! This may take a few minutes. The page will refresh automatically when complete."),C(!0),setTimeout(async()=>{await r()},2e3);const N=setInterval(async()=>{await r(),f.length>0&&clearInterval(N)},1e4);setTimeout(()=>{clearInterval(N)},3e5)}else if(A.error){M("error");let N="Failed to start content generation. Please try again.";(h=A.error.message)!=null&&h.includes("onboarding")?N="Please complete your onboarding first before generating content.":(S=A.error.message)!=null&&S.includes("platforms")?N="Please configure your social media platforms in your profile first.":N=A.error.message||N,c(N),n("Content Generation Failed",N)}}catch(A){console.error("Error generating content:",A),M("error"),c("An unexpected error occurred. Please try again."),n("Content Generation Error","An unexpected error occurred. Please try again.")}finally{_(!1)}},$=async()=>{try{_(!0),M(null),c("");const S=await(await fetch("http://localhost:8000/content/trigger-weekly",{method:"POST",headers:{"Content-Type":"application/json"}})).json();S.success?(M("success"),c("Weekly content generation triggered! This will generate content for all users. Refreshing..."),C(!0),setTimeout(async()=>{await r()},3e3)):(M("error"),c(S.message||"Weekly generation failed"))}catch(h){console.error("Error triggering weekly generation:",h),M("error"),c("Weekly generation failed. Please try again.")}finally{_(!1)}},O=h=>{const S=new Set(U);S.has(h)?S.delete(h):S.add(h),Y(S)};k.filter(h=>{var N;const S=y==="all"||h.platform===y,A=T===""||h.content.toLowerCase().includes(T.toLowerCase())||((N=h.title)==null?void 0:N.toLowerCase().includes(T.toLowerCase()));return S&&A});const B=h=>({facebook:"ðŸ“˜",instagram:"ðŸ“·",linkedin:"ðŸ’¼",twitter:"ðŸ¦",tiktok:"ðŸŽµ",youtube:"ðŸ“º"})[h]||"ðŸ“±",R=h=>({draft:"bg-gray-100 text-gray-800",scheduled:"bg-blue-100 text-blue-800",published:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800"})[h]||"bg-gray-100 text-gray-800",re=h=>new Date(h).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),Fe=h=>new Date(`2000-01-01T${h}`).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});if(d)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-pink-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading your content..."})]})});const Oe=()=>{C(!1),M("success"),c("Content generation completed! Your new content is ready."),s("Content Generation Complete! ðŸŽ‰","Your AI-generated content is ready to view and manage.",{details:"Click on the Content tab to see your new campaigns and posts.",actions:[{label:"View Content",primary:!0,onClick:()=>g("/content")}]}),r()};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 via-purple-50 to-indigo-50 flex",children:[e.jsx(jt,{isVisible:w,onComplete:Oe}),e.jsx(he,{}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsx("div",{className:"bg-white shadow-sm border-b",children:e.jsx("div",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Content Dashboard"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Manage your AI-generated content"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{onClick:()=>g("/calendar"),className:"flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-purple-500 to-indigo-600 text-white rounded-lg hover:from-indigo-600 hover:to-purple-500 transition-all duration-300",children:[e.jsx(G,{className:"w-4 h-4"}),e.jsx("span",{children:"View Calendar"})]}),e.jsxs("button",{onClick:j,disabled:L,className:"flex items-center space-x-2 bg-gradient-to-r from-pink-500 to-purple-600 text-white px-4 py-2 rounded-lg hover:from-purple-600 hover:to-pink-500 transition-all duration-300 disabled:opacity-50",children:[L?e.jsx(q,{className:"w-4 h-4 animate-spin"}):e.jsx(F,{className:"w-4 h-4"}),e.jsx("span",{children:L?"Generating...":"Generate Content"})]})]})]})})}),e.jsxs("div",{className:"flex-1 p-6",children:[D&&e.jsx("div",{className:`mb-6 p-4 rounded-lg ${D==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:e.jsxs("div",{className:"flex items-center",children:[D==="success"?e.jsx(F,{className:"w-5 h-5 mr-2"}):e.jsx(q,{className:"w-5 h-5 mr-2"}),e.jsx("span",{className:"font-medium",children:Z})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg flex items-center justify-center mr-4",children:e.jsx(G,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Campaigns"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.length})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-green-500 to-green-600 rounded-lg flex items-center justify-center mr-4",children:e.jsx(Q,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Posts"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:k.length})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-purple-600 rounded-lg flex items-center justify-center mr-4",children:e.jsx(Te,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"AI Images"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:k.reduce((h,S)=>{var A;return h+(((A=S.content_images)==null?void 0:A.length)||0)},0)})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-orange-500 to-orange-600 rounded-lg flex items-center justify-center mr-4",children:e.jsx(Se,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Platforms"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:new Set(k.map(h=>h.platform)).size})]})]})})]})}),e.jsxs("div",{className:"lg:col-span-3",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ve,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search content...",value:T,onChange:h=>I(h.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent"})]}),e.jsxs("select",{value:y,onChange:h=>E(h.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Platforms"}),e.jsx("option",{value:"facebook",children:"Facebook"}),e.jsx("option",{value:"instagram",children:"Instagram"}),e.jsx("option",{value:"linkedin",children:"LinkedIn"}),e.jsx("option",{value:"twitter",children:"Twitter"}),e.jsx("option",{value:"tiktok",children:"TikTok"}),e.jsx("option",{value:"youtube",children:"YouTube"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>p("grid"),className:`p-2 rounded-lg ${m==="grid"?"bg-pink-100 text-pink-600":"text-gray-400 hover:text-gray-600"}`,children:e.jsx(Xe,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>p("list"),className:`p-2 rounded-lg ${m==="list"?"bg-pink-100 text-pink-600":"text-gray-400 hover:text-gray-600"}`,children:e.jsx(Ze,{className:"w-5 h-5"})})]})]})}),e.jsxs("div",{className:"space-y-6",children:[f.map(h=>{const S=k.filter(N=>N.campaign_id===h.id),A=U.has(h.id);return e.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[e.jsx("div",{className:"p-6 cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>O(h.id),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-pink-500 to-purple-600 rounded-lg flex items-center justify-center",children:e.jsx(G,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:h.campaign_name}),e.jsxs("p",{className:"text-sm text-gray-500",children:[re(h.week_start_date)," - ",re(h.week_end_date)]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Posts"}),e.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[h.generated_posts," / ",h.total_posts]})]}),e.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${R(h.status)}`,children:h.status}),A?e.jsx(Ke,{className:"w-5 h-5 text-gray-400"}):e.jsx(Ee,{className:"w-5 h-5 text-gray-400"})]})]})}),A&&e.jsx("div",{className:"border-t border-gray-200 p-6",children:S.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Q,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No posts in this campaign yet"})]}):e.jsx("div",{className:`grid gap-4 ${m==="grid"?"grid-cols-1 md:grid-cols-2 lg:grid-cols-3":"grid-cols-1"}`,children:S.map(N=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-2xl",children:B(N.platform)}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 capitalize",children:N.platform}),e.jsx("p",{className:"text-sm text-gray-500",children:N.post_type})]})]}),e.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${R(N.status)}`,children:N.status})]}),N.title&&e.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:N.title}),e.jsx("p",{className:"text-gray-700 text-sm mb-3 line-clamp-3",children:N.content}),N.hashtags&&N.hashtags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:N.hashtags.map((ae,ee)=>e.jsxs("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded",children:["#",ae]},ee))}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Pe,{className:"w-4 h-4"}),e.jsxs("span",{children:[re(N.scheduled_date)," at ",Fe(N.scheduled_time)]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"p-1 hover:bg-gray-100 rounded",children:e.jsx(ye,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-1 hover:bg-gray-100 rounded",children:e.jsx(Qe,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-1 hover:bg-gray-100 rounded",children:e.jsx(et,{className:"w-4 h-4"})})]})]}),N.content_images&&N.content_images.length>0&&e.jsx("div",{className:"mt-3",children:e.jsxs("div",{className:"flex space-x-2",children:[N.content_images.slice(0,3).map((ae,ee)=>e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-lg overflow-hidden",children:e.jsx("img",{src:ae.image_url,alt:`Generated image ${ee+1}`,className:"w-full h-full object-cover"})},ee)),N.content_images.length>3&&e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center",children:e.jsxs("span",{className:"text-xs text-gray-500",children:["+",N.content_images.length-3]})})]})})]},N.id))})})]},h.id)}),f.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-pink-100 to-purple-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(F,{className:"w-12 h-12 text-pink-500"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No content campaigns yet"}),e.jsx("p",{className:"text-gray-500 mb-6",children:"Generate your first AI-powered content campaign to get started"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{onClick:j,disabled:L,className:"bg-gradient-to-r from-pink-500 to-purple-600 text-white px-6 py-3 rounded-lg hover:from-purple-600 hover:to-pink-500 transition-all duration-300 disabled:opacity-50 flex items-center space-x-2",children:L?e.jsxs(e.Fragment,{children:[e.jsx(q,{className:"w-5 h-5 animate-spin"}),e.jsx("span",{children:"Generating Your First Campaign..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(F,{className:"w-5 h-5"}),e.jsx("span",{children:"Generate Your First Campaign"})]})}),e.jsx("button",{onClick:$,disabled:L,className:"bg-gradient-to-r from-blue-500 to-indigo-600 text-white px-6 py-3 rounded-lg hover:from-indigo-600 hover:to-blue-500 transition-all duration-300 disabled:opacity-50 flex items-center space-x-2",children:L?e.jsxs(e.Fragment,{children:[e.jsx(q,{className:"w-5 h-5 animate-spin"}),e.jsx("span",{children:"Triggering Weekly Generation..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(G,{className:"w-5 h-5"}),e.jsx("span",{children:"Trigger Weekly Generation"})]})})]})]})]})]})]})]})]})]})},Nt=()=>{const{user:a}=z(),[s,t]=o.useState(new Date),[n,i]=o.useState([]),[g,f]=o.useState([]),[u,k]=o.useState(!0),[l,b]=o.useState(null),[v,d]=o.useState([]),x={Facebook:we,Instagram:ke,LinkedIn:_e,YouTube:Ce,"Twitter/X":le,Twitter:le,TikTok:J,Pinterest:J,Snapchat:J},m={Facebook:"bg-blue-500",Instagram:"bg-gradient-to-r from-purple-500 to-pink-500",LinkedIn:"bg-blue-600",YouTube:"bg-red-500","Twitter/X":"bg-blue-400",Twitter:"bg-blue-400",TikTok:"bg-black",Pinterest:"bg-red-600",Snapchat:"bg-yellow-400"};o.useEffect(()=>{p()},[]);const p=async()=>{try{k(!0);const[c,w]=await Promise.all([K.getCampaigns(),K.getPosts()]);c.data&&i(c.data),w.data&&f(w.data)}catch(c){console.error("Error fetching data:",c)}finally{k(!1)}},y=c=>{const w=c.getFullYear(),C=c.getMonth(),r=new Date(w,C,1),$=new Date(w,C+1,0).getDate(),O=r.getDay(),B=[];for(let R=0;R<O;R++)B.push(null);for(let R=1;R<=$;R++)B.push(new Date(w,C,R));return B},E=c=>{if(!c)return[];const w=c.toISOString().split("T")[0];return g.filter(r=>{if(!r.scheduled_date)return!1;let j;return r.scheduled_date.includes("T")?j=new Date(r.scheduled_date).toISOString().split("T")[0]:j=r.scheduled_date,j===w})},T=c=>{const w=E(c);return[...new Set(w.map(r=>r.platform))]},I=c=>{t(w=>{const C=new Date(w);return c==="prev"?C.setMonth(C.getMonth()-1):C.setMonth(C.getMonth()+1),C})},U=c=>{if(!c)return;b(c);const w=E(c);d(w)},Y=c=>c.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),L=c=>c.toLocaleDateString("en-US",{month:"long",year:"numeric"}),_=c=>{if(!c)return!1;const w=new Date;return c.toDateString()===w.toDateString()},D=c=>{if(!c)return!1;const w=new Date;return w.setHours(0,0,0,0),c<w},M=y(s),Z=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return u?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(q,{className:"w-8 h-8 animate-spin text-pink-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading content calendar..."})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[e.jsx(he,{}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsx("div",{className:"bg-white shadow-sm border-b",children:e.jsx("div",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(G,{className:"w-8 h-8 text-pink-500"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Content Calendar"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:()=>I("prev"),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:e.jsx(tt,{className:"w-5 h-5 text-gray-600"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 min-w-[200px] text-center",children:L(s)}),e.jsx("button",{onClick:()=>I("next"),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:e.jsx(Ee,{className:"w-5 h-5 text-gray-600"})})]})]})})}),e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsx("div",{className:"lg:col-span-3",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border overflow-hidden",children:[e.jsx("div",{className:"grid grid-cols-7 bg-gray-50 border-b",children:Z.map(c=>e.jsx("div",{className:"p-4 text-center text-sm font-medium text-gray-500",children:c},c))}),e.jsx("div",{className:"grid grid-cols-7",children:M.map((c,w)=>{const C=T(c),r=_(c),j=D(c);return e.jsx("div",{className:`min-h-[120px] border-r border-b border-gray-200 p-2 cursor-pointer transition-all duration-200 ${c?"hover:bg-gray-50":"bg-gray-50"} ${r?"bg-pink-50 border-pink-200":""} ${j?"opacity-60":""}`,onClick:()=>U(c),children:c&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`text-sm font-medium mb-2 ${r?"text-pink-600":"text-gray-900"}`,children:c.getDate()}),C.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1",children:C.map($=>{const O=x[$]||J,B=m[$]||"bg-gray-500";return e.jsxs("div",{className:`w-6 h-6 rounded-full ${B} flex items-center justify-center group relative`,title:$,children:[e.jsx(O,{className:"w-3 h-3 text-white"}),e.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-10",children:$})]},$)})}),C.length>0&&e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[C.length," platform",C.length>1?"s":""]})]})},w)})})]})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Content Overview"}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Total Campaigns"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:n.length})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Total Posts"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:g.length})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"This Month"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:g.filter(c=>{const w=new Date(c.scheduled_date);return w.getMonth()===s.getMonth()&&w.getFullYear()===s.getFullYear()}).length})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Platform Distribution"}),e.jsx("div",{className:"space-y-2",children:Object.entries(x).map(([c,w])=>{const C=g.filter(j=>j.platform===c).length,r=m[c]||"bg-gray-500";return C===0?null:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-4 h-4 rounded-full ${r} flex items-center justify-center`,children:e.jsx(w,{className:"w-2 h-2 text-white"})}),e.jsx("span",{className:"text-sm text-gray-600",children:c}),e.jsx("span",{className:"text-sm font-medium text-gray-900 ml-auto",children:C})]},c)})})]}),l&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:Y(l)}),v.length>0?e.jsx("div",{className:"space-y-2",children:v.map(c=>e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("div",{className:`w-4 h-4 rounded-full ${m[c.platform]||"bg-gray-500"} flex items-center justify-center`,children:de.createElement(x[c.platform]||J,{className:"w-2 h-2 text-white"})}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:c.platform})]}),e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:c.title})]},c.id))}):e.jsx("p",{className:"text-sm text-gray-500",children:"No content scheduled for this date"})]})]})})]})})]})]})},vt=()=>{const a=X(),s=()=>{a("/dashboard")};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 via-purple-50 to-indigo-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-2xl w-full",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("div",{className:"relative mx-auto w-32 h-32 mb-6",children:[e.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-pink-200 animate-ping"}),e.jsx("div",{className:"absolute inset-2 rounded-full border-4 border-pink-300 animate-pulse"}),e.jsx("div",{className:"absolute inset-4 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full flex items-center justify-center shadow-2xl",children:e.jsx(V,{className:"w-16 h-16 text-white"})}),e.jsx("div",{className:"absolute -top-2 -right-2",children:e.jsx(F,{className:"w-6 h-6 text-yellow-400 animate-bounce"})}),e.jsx("div",{className:"absolute -bottom-2 -left-2",children:e.jsx(F,{className:"w-4 h-4 text-pink-400 animate-bounce delay-300"})}),e.jsx("div",{className:"absolute top-4 -left-4",children:e.jsx(F,{className:"w-5 h-5 text-purple-400 animate-bounce delay-700"})})]}),e.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-pink-600 to-purple-600 bg-clip-text text-transparent mb-4",children:"ðŸŽ‰ Congratulations!"}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Welcome to Emily!"}),e.jsx("p",{className:"text-lg text-gray-600 mb-2",children:"Your onboarding is complete and I'm ready to help you with"}),e.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-8",children:["Content Creation","Social Media Strategy","Campaign Planning","Performance Analytics","Marketing Automation"].map((t,n)=>e.jsx("span",{className:"px-3 py-1 bg-gradient-to-r from-pink-100 to-purple-100 text-pink-700 rounded-full text-sm font-medium",style:{animationDelay:`${n*100}ms`},children:t},t))})]}),e.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8 mb-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"What's Next?"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"text-left",children:[e.jsxs("h4",{className:"font-semibold text-gray-700 mb-2 flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-pink-500 rounded-full mr-2"}),"Personalized AI Assistant"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Emily will use your business information to provide tailored marketing recommendations."})]}),e.jsxs("div",{className:"text-left",children:[e.jsxs("h4",{className:"font-semibold text-gray-700 mb-2 flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),"Smart Content Generation"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Get AI-powered content ideas, captions, and strategies for your social media."})]}),e.jsxs("div",{className:"text-left",children:[e.jsxs("h4",{className:"font-semibold text-gray-700 mb-2 flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-indigo-500 rounded-full mr-2"}),"Performance Tracking"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Monitor your campaigns and get insights to optimize your marketing efforts."})]}),e.jsxs("div",{className:"text-left",children:[e.jsxs("h4",{className:"font-semibold text-gray-700 mb-2 flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-pink-500 rounded-full mr-2"}),"24/7 Support"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Emily is always available to help with your marketing questions and challenges."})]})]})]})}),e.jsxs("div",{className:"text-center",children:[e.jsxs("button",{onClick:s,className:"group inline-flex items-center px-8 py-4 bg-gradient-to-r from-pink-500 to-purple-600 text-white text-lg font-semibold rounded-xl hover:from-pink-600 hover:to-purple-700 focus:ring-4 focus:ring-pink-200 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1",children:[e.jsx("span",{children:"Start Your Marketing Journey"}),e.jsx(Ae,{className:"ml-2 w-5 h-5 group-hover:translate-x-1 transition-transform"})]}),e.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"Ready to revolutionize your digital marketing? Let's get started! ðŸš€"})]}),e.jsx("div",{className:"text-center mt-8",children:e.jsx("p",{className:"text-xs text-gray-400",children:"Powered by AI â€¢ Secured by Supabase â€¢ Built with â¤ï¸"})})]})})},Le=()=>{const[a,s]=o.useState(0),[t,n]=o.useState({business_name:"",business_type:[],industry:[],business_description:"",target_audience:[],unique_value_proposition:"",brand_voice:"",brand_tone:"",website_url:"",phone_number:"",street_address:"",city:"",state:"",country:"",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone||"",social_media_platforms:[],primary_goals:[],key_metrics_to_track:[],monthly_budget_range:"",posting_frequency:"",preferred_content_types:[],content_themes:[],main_competitors:"",market_position:"",products_or_services:"",important_launch_dates:"",planned_promotions_or_campaigns:"",top_performing_content_types:[],best_time_to_post:[],successful_campaigns:"",hashtags_that_work_well:"",customer_pain_points:"",typical_customer_journey:"",automation_level:"",platform_specific_tone:{},current_presence:[],focus_areas:[],platform_details:{},facebook_page_name:"",instagram_profile_link:"",linkedin_company_link:"",youtube_channel_link:"",x_twitter_profile:"",google_business_profile:"",google_ads_account:"",whatsapp_business:"",email_marketing_platform:"",meta_ads_accounts:""}),[i,g]=o.useState(!1),[f,u]=o.useState(""),[k,l]=o.useState(!1),[b,v]=o.useState(!1),{user:d}=z();X();const x=["Basic Business Info","Business Description","Brand & Contact","Social Media & Goals","Content Strategy","Market & Competition","Campaign Planning","Performance & Customer","Automation & Platform","Review & Submit"],m=["Sole Proprietorship","Partnership","LLC","Corporation","Non-profit","Freelancer","Consultant","Agency","E-commerce"],p=["Technology","Healthcare","Finance","Education","Retail","Food & Beverage","Real Estate","Manufacturing","Consulting","Marketing & Advertising","Entertainment","Travel & Tourism","Fashion","Beauty & Wellness","Sports & Fitness","Other"],y=["Facebook","Instagram","LinkedIn","Twitter/X","YouTube","TikTok","Pinterest","Snapchat","WhatsApp Business"],E=["Increase Brand Awareness","Generate Leads","Drive Sales","Build Community","Customer Engagement","Website Traffic","Content Marketing","Social Proof","Customer Support"],T=["Followers/Subscribers","Engagement Rate","Click-through Rate","Conversion Rate","Reach","Impressions","Website Traffic","Lead Generation","Sales Revenue","Customer Acquisition Cost"],I=["Under $500/month","$500-$1,000/month","$1,000-$2,500/month","$2,500-$5,000/month","$5,000-$10,000/month","Over $10,000/month"],U=["Daily","2-3 times per week","Weekly","Bi-weekly","Monthly"],Y=["Images","Videos","Stories","Live Streams","Blog Posts","Infographics","Polls","User Generated Content","Behind the Scenes"],L=["Fully Manual","Semi-Automated","Mostly Automated","Fully Automated"],_=(r,j)=>{n($=>({...$,[r]:j})),u("")},D=(r,j,$)=>{n(O=>({...O,[r]:$?[...O[r],j]:O[r].filter(B=>B!==j)}))},M=()=>{switch(a){case 0:return t.business_name&&t.business_type.length>0&&t.industry.length>0;case 1:return t.business_description&&t.unique_value_proposition;case 2:return t.brand_voice&&t.brand_tone&&t.phone_number&&t.city&&t.state&&t.country;case 3:return t.social_media_platforms.length>0&&t.primary_goals.length>0&&t.key_metrics_to_track.length>0;case 4:return t.monthly_budget_range&&t.posting_frequency&&t.preferred_content_types.length>0&&t.content_themes.length>0;case 5:return t.market_position&&t.products_or_services;case 6:return t.planned_promotions_or_campaigns&&t.top_performing_content_types.length>0&&t.best_time_to_post.length>0;case 7:return t.successful_campaigns&&t.hashtags_that_work_well&&t.customer_pain_points&&t.typical_customer_journey;case 8:return t.automation_level;case 9:return!0;default:return!0}},Z=()=>{M()?(s(r=>Math.min(r+1,x.length-1)),u("")):u("Please fill in all required fields before proceeding.")},c=()=>{s(r=>Math.max(r-1,0)),u("")},w=async()=>{l(!0),u("");try{const r=await ue.submitOnboarding(t);console.log("Onboarding submitted successfully:",r.data),v(!0)}catch(r){console.error("Onboarding submission error:",r),u(r.message||"Failed to submit onboarding")}finally{l(!1)}},C=()=>{switch(a){case 0:return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Basic Business Information"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Name *"}),e.jsx("input",{type:"text",value:t.business_name,onChange:r=>_("business_name",r.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent",placeholder:"Enter your business name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Type *"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:m.map(r=>e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:t.business_type.includes(r),onChange:j=>D("business_type",r,j.target.checked),className:"rounded border-gray-300 text-pink-600 focus:ring-pink-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:r})]},r))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Industry *"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:p.map(r=>e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:t.industry.includes(r),onChange:j=>D("industry",r,j.target.checked),className:"rounded border-gray-300 text-pink-600 focus:ring-pink-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:r})]},r))})]})]});case 1:return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Business Description"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Description *"}),e.jsx("textarea",{value:t.business_description,onChange:r=>_("business_description",r.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent",placeholder:"Describe what your business does..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Unique Value Proposition *"}),e.jsx("textarea",{value:t.unique_value_proposition,onChange:r=>_("unique_value_proposition",r.target.value),rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent",placeholder:"What makes your business unique?"})]})]});case 2:return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Brand & Contact Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Brand Voice *"}),e.jsx("input",{type:"text",value:t.brand_voice,onChange:r=>_("brand_voice",r.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent",placeholder:"e.g., Professional, Friendly, Authoritative"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Brand Tone *"}),e.jsx("input",{type:"text",value:t.brand_tone,onChange:r=>_("brand_tone",r.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent",placeholder:"e.g., Casual, Formal, Playful"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),e.jsx("input",{type:"tel",value:t.phone_number,onChange:r=>_("phone_number",r.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent",placeholder:"+1 (555) 123-4567"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),e.jsx("input",{type:"text",value:t.city,onChange:r=>_("city",r.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent",placeholder:"City"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State *"}),e.jsx("input",{type:"text",value:t.state,onChange:r=>_("state",r.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent",placeholder:"State"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country *"}),e.jsx("input",{type:"text",value:t.country,onChange:r=>_("country",r.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent",placeholder:"Country"})]})]})]});case 3:return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Social Media & Goals"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Social Media Platforms *"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:y.map(r=>e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:t.social_media_platforms.includes(r),onChange:j=>D("social_media_platforms",r,j.target.checked),className:"rounded border-gray-300 text-pink-600 focus:ring-pink-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:r})]},r))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Primary Goals *"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:E.map(r=>e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:t.primary_goals.includes(r),onChange:j=>D("primary_goals",r,j.target.checked),className:"rounded border-gray-300 text-pink-600 focus:ring-pink-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:r})]},r))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Key Metrics to Track *"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:T.map(r=>e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:t.key_metrics_to_track.includes(r),onChange:j=>D("key_metrics_to_track",r,j.target.checked),className:"rounded border-gray-300 text-pink-600 focus:ring-pink-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:r})]},r))})]})]});case 4:return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Content Strategy"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Monthly Budget Range *"}),e.jsxs("select",{value:t.monthly_budget_range,onChange:r=>_("monthly_budget_range",r.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select budget range"}),I.map(r=>e.jsx("option",{value:r,children:r},r))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Posting Frequency *"}),e.jsxs("select",{value:t.posting_frequency,onChange:r=>_("posting_frequency",r.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select frequency"}),U.map(r=>e.jsx("option",{value:r,children:r},r))]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Content Types *"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:Y.map(r=>e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:t.preferred_content_types.includes(r),onChange:j=>D("preferred_content_types",r,j.target.checked),className:"rounded border-gray-300 text-pink-600 focus:ring-pink-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:r})]},r))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content Themes *"}),e.jsx("input",{type:"text",value:t.content_themes.join(", "),onChange:r=>_("content_themes",r.target.value.split(", ").filter(j=>j.trim())),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent",placeholder:"e.g., Industry news, Behind the scenes, Customer stories"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Separate themes with commas"})]})]});case 5:return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Market & Competition"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Market Position *"}),e.jsx("input",{type:"text",value:t.market_position,onChange:r=>_("market_position",r.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent",placeholder:"e.g., Premium, Budget-friendly, Mid-market"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Products/Services *"}),e.jsx("textarea",{value:t.products_or_services,onChange:r=>_("products_or_services",r.target.value),rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent",placeholder:"Describe your main products or services..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Main Competitors"}),e.jsx("input",{type:"text",value:t.main_competitors,onChange:r=>_("main_competitors",r.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent",placeholder:"List your main competitors..."})]})]});case 6:return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Campaign Planning"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Planned Promotions/Campaigns *"}),e.jsx("textarea",{value:t.planned_promotions_or_campaigns,onChange:r=>_("planned_promotions_or_campaigns",r.target.value),rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent",placeholder:"Describe any upcoming campaigns or promotions..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Top Performing Content Types *"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:Y.map(r=>e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:t.top_performing_content_types.includes(r),onChange:j=>D("top_performing_content_types",r,j.target.checked),className:"rounded border-gray-300 text-pink-600 focus:ring-pink-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:r})]},r))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Best Time to Post *"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:["Morning (6-12 PM)","Afternoon (12-6 PM)","Evening (6-12 AM)","Night (12-6 AM)"].map(r=>e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:t.best_time_to_post.includes(r),onChange:j=>D("best_time_to_post",r,j.target.checked),className:"rounded border-gray-300 text-pink-600 focus:ring-pink-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:r})]},r))})]})]});case 7:return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Performance & Customer"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Successful Campaigns *"}),e.jsx("textarea",{value:t.successful_campaigns,onChange:r=>_("successful_campaigns",r.target.value),rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent",placeholder:"Describe your most successful marketing campaigns..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hashtags That Work Well *"}),e.jsx("input",{type:"text",value:t.hashtags_that_work_well,onChange:r=>_("hashtags_that_work_well",r.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent",placeholder:"e.g., #smallbusiness #entrepreneur #marketing"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer Pain Points *"}),e.jsx("textarea",{value:t.customer_pain_points,onChange:r=>_("customer_pain_points",r.target.value),rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent",placeholder:"What problems do your customers face that you solve?"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Typical Customer Journey *"}),e.jsx("textarea",{value:t.typical_customer_journey,onChange:r=>_("typical_customer_journey",r.target.value),rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent",placeholder:"Describe how customers typically discover and engage with your business..."})]})]});case 8:return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Automation & Platform"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Automation Level *"}),e.jsx("div",{className:"space-y-2",children:L.map(r=>e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",name:"automation_level",value:r,checked:t.automation_level===r,onChange:j=>_("automation_level",j.target.value),className:"text-pink-600 focus:ring-pink-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:r})]},r))})]})]});case 9:return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Review & Submit"}),e.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-4",children:"Review Your Information"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Business Name:"})," ",t.business_name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Business Type:"})," ",t.business_type.join(", ")]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Industry:"})," ",t.industry.join(", ")]}),e.jsxs("p",{children:[e.jsx("strong",{children:"City:"})," ",t.city,", ",t.state,", ",t.country]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Social Platforms:"})," ",t.social_media_platforms.join(", ")]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Primary Goals:"})," ",t.primary_goals.join(", ")]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Monthly Budget:"})," ",t.monthly_budget_range]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Automation Level:"})," ",t.automation_level]})]})]}),e.jsx("div",{className:"bg-pink-50 p-4 rounded-lg",children:e.jsxs("p",{className:"text-sm text-pink-800",children:[e.jsx("strong",{children:"Ready to get started?"})," Emily will use this information to provide personalized marketing assistance tailored to your business needs."]})})]});default:return null}};return d?b?e.jsx(vt,{}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-3xl font-bold text-white",children:"E"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Welcome to Emily!"}),e.jsx("p",{className:"text-gray-600",children:"Let's get to know your business so I can provide personalized marketing assistance."})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Step ",a+1," of ",x.length]}),e.jsxs("span",{className:"text-sm text-gray-500",children:[Math.round((a+1)/x.length*100),"% Complete"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-pink-500 to-purple-600 h-2 rounded-full transition-all duration-300",style:{width:`${(a+1)/x.length*100}%`}})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 mb-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-2",children:x[a]}),e.jsxs("p",{className:"text-gray-600",children:[a===0&&"Tell us about your business basics",a===1&&"Help us understand what you do",a===2&&"How should we represent your brand?",a===3&&"What are your social media goals?",a===4&&"What's your content strategy?",a===5&&"How do you fit in the market?",a===6&&"What campaigns are you planning?",a===7&&"What's worked well for you?",a===8&&"How automated should your marketing be?",a===9&&"Review everything before we start"]})]}),f&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg mb-6",children:f}),C()]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("button",{onClick:c,disabled:a===0,className:"flex items-center px-6 py-3 bg-gray-500 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-600 transition-colors",children:[e.jsx(st,{className:"w-4 h-4 mr-2"}),"Previous"]}),a===x.length-1?e.jsx("button",{onClick:w,disabled:k,className:"flex items-center px-6 py-3 bg-gradient-to-r from-pink-500 to-purple-600 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:from-pink-600 hover:to-purple-700 transition-all",children:k?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Submitting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(rt,{className:"w-4 h-4 mr-2"}),"Complete Onboarding"]})}):e.jsxs("button",{onClick:Z,className:"flex items-center px-6 py-3 bg-gradient-to-r from-pink-500 to-purple-600 text-white rounded-lg hover:from-pink-600 hover:to-purple-700 transition-all",children:["Next",e.jsx(Ae,{className:"w-4 h-4 ml-2"})]})]})]})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-pink-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading..."})]})})};class wt extends de.Component{constructor(s){super(s),this.state={hasError:!1,error:null}}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,t){console.error("ErrorBoundary caught an error:",s,t)}render(){var s;return this.state.hasError?e.jsx("div",{className:"min-h-screen bg-red-50 flex items-center justify-center p-4",children:e.jsx("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto h-12 w-12 bg-red-100 rounded-full flex items-center justify-center mb-4",children:e.jsx("span",{className:"text-red-600 text-xl",children:"âš ï¸"})}),e.jsx("h1",{className:"text-xl font-bold text-red-800 mb-2",children:"Something went wrong"}),e.jsx("p",{className:"text-red-600 mb-4",children:"There was an error loading the dashboard. Please refresh the page."}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded",children:"Refresh Page"}),e.jsxs("details",{className:"mt-4 text-left",children:[e.jsx("summary",{className:"cursor-pointer text-sm text-gray-600",children:"Error Details"}),e.jsx("pre",{className:"mt-2 text-xs bg-gray-100 p-2 rounded overflow-auto",children:(s=this.state.error)==null?void 0:s.toString()})]})]})})}):this.props.children}}const kt=({notifications:a,onClose:s,onMarkAsRead:t})=>{const[n,i]=o.useState([]);o.useEffect(()=>{i(a.filter(l=>!l.read))},[a]);const g=l=>{switch(l){case"success":return e.jsx(V,{className:"w-5 h-5 text-green-500"});case"error":return e.jsx(at,{className:"w-5 h-5 text-red-500"});case"info":return e.jsx(fe,{className:"w-5 h-5 text-blue-500"});case"content_generation":return e.jsx(F,{className:"w-5 h-5 text-pink-500"});case"loading":return e.jsx(q,{className:"w-5 h-5 text-blue-500 animate-spin"});default:return e.jsx(fe,{className:"w-5 h-5 text-gray-500"})}},f=l=>{switch(l){case"success":return"bg-green-50 border-green-200";case"error":return"bg-red-50 border-red-200";case"info":return"bg-blue-50 border-blue-200";case"content_generation":return"bg-gradient-to-r from-pink-50 to-purple-50 border-pink-200";case"loading":return"bg-blue-50 border-blue-200";default:return"bg-gray-50 border-gray-200"}},u=l=>{switch(l){case"success":return"text-green-800";case"error":return"text-red-800";case"info":return"text-blue-800";case"content_generation":return"text-gray-800";case"loading":return"text-blue-800";default:return"text-gray-800"}},k=l=>{t(l),s(l)};return n.length===0?null:e.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-3 max-w-sm",children:n.map(l=>e.jsx("div",{className:`${f(l.type)} border rounded-lg shadow-lg p-4 transform transition-all duration-300 ease-in-out ${l.animate?"animate-slide-in-right":""}`,children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:g(l.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:`text-sm font-medium ${u(l.type)}`,children:l.title}),e.jsx("button",{onClick:()=>k(l.id),className:"flex-shrink-0 ml-2 p-1 hover:bg-white/50 rounded-full transition-colors",children:e.jsx(Ne,{className:"w-4 h-4 text-gray-500 hover:text-gray-700"})})]}),e.jsx("p",{className:`mt-1 text-sm ${u(l.type)} opacity-90`,children:l.message}),l.details&&e.jsx("div",{className:"mt-2 text-xs text-gray-600",children:l.details}),l.actions&&e.jsx("div",{className:"mt-3 flex space-x-2",children:l.actions.map((b,v)=>e.jsx("button",{onClick:b.onClick,className:`px-3 py-1 text-xs font-medium rounded-md transition-colors ${b.primary?"bg-pink-500 text-white hover:bg-pink-600":"bg-white/50 text-gray-700 hover:bg-white/70"}`,children:b.label},v))})]})]})},l.id))})};function te({children:a}){const{isAuthenticated:s,user:t,loading:n}=z(),[i,g]=o.useState(null),[f,u]=o.useState(!0);return o.useEffect(()=>{(async()=>{if(s&&t)try{const l=await ue.getOnboardingStatus();g(l.data.onboarding_completed)}catch(l){console.error("Error checking onboarding status:",l),g(!1)}finally{u(!1)}else u(!1)})()},[s,t]),n||f?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-pink-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):s?i===!1?e.jsx(Le,{}):a:e.jsx(je,{to:"/login"})}function _t(){const{notifications:a,removeNotification:s,markAsRead:t}=xe();return e.jsxs(Ge,{children:[e.jsxs(qe,{children:[e.jsx(H,{path:"/login",element:e.jsx(ht,{})}),e.jsx(H,{path:"/dashboard",element:e.jsx(te,{children:e.jsx(bt,{})})}),e.jsx(H,{path:"/content",element:e.jsx(te,{children:e.jsx(yt,{})})}),e.jsx(H,{path:"/calendar",element:e.jsx(te,{children:e.jsx(Nt,{})})}),e.jsx(H,{path:"/onboarding",element:e.jsx(te,{children:e.jsx(Le,{})})}),e.jsx(H,{path:"/",element:e.jsx(je,{to:"/login"})})]}),e.jsx(kt,{notifications:a,onClose:s,onMarkAsRead:t})]})}function Ct(){return e.jsx(wt,{children:e.jsx(ut,{children:e.jsx(gt,{children:e.jsx(_t,{})})})})}ce.createRoot(document.getElementById("root")).render(e.jsx(de.StrictMode,{children:e.jsx(Ct,{})}));
